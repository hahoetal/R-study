데이터 정제 - 빠진 데이터, 이상한 데이터 제거하기

# 결측치 정제하기

결측치(Missing Value): 누락된 값, 비어있는 값.

- 결측치가 있으면 함수가 적용되지 않거나 분석결과가 왜곡될 수 있으므로 분석 전에 제거해야 함.
- R에서 결측치는 NA로 표현(따옴표를 붙이면 문자열이 되므로 주의할 것).

1) 결측치 찾기

- is.na(데이터)
  : 데이터에 결측치가 들어있는지를 보여주는데, 결측치면 True, 아니면 False로 표현.

    table()과 함께 쓰이는데 표 형태로 보여지고 결측치의 개수를 쉽게 파악할 수 있음.
    예시)
        table(is.na(df))
        ## FALSE    TRUE
        ##       8         2

2) 결측치 제거하기

- is.na()와 dplyr 패키지의 filter()를 활용.
    예시)
        library(dplyr)
        df %>% filter(!is.na(score)) # score가 결측치가 아닌 행만 출력.

    filter() 안에 & 또는 | 를 활용하여 조건을 나열하면 여러 변수에 모두 결측치가 없는 행 출력 가능.

- na.omit()
  : 결측치가 있는 행 한 번에 제거.
    분석에 필요하지 않는 다른 변수가 결측치인 경우, 필요한 행마저 사라질 수 있으므로 가능한 is.na()와 filter를 활용해 분석에 필요한 변수의 결측치만 제거하는 것을 권장.
  
** 함수의 결측치 제외 기능
na.rm 파라미터(Parameter)
: mean()과 같은 수치 연산 함수들이 결측치를 제외하고 연산하도록.
    예시)
        mean(df$score, na.rm = T)
        summarise(mean_score = mean(score, na.rm = T)

3) 결측치 대체하기
: 데이터가 작고 결측치가 많은 경우, 결측치를 제거하지 않고 다른 값을 넣어주기도 함.
평균이나 최빈값 같은 대푯값을 전부 넣어주거나 통계 분석 기법으로 각 결측치의 예측값을 추정해 대체함.

- 평균으로 결측치 대체하기
mean(exam$math, na.rm = T) # 결측치를 제외하고 결측값을 구한 다음에
exam$math <- ifelse(is.na(exam$math), 55, exam$math) # NA를 평균으로 대체

# 이상치 정제하기

이상치(Outlier): 정상 범주에서 크게 벗어난 값, 존재할 수 없는 값이나 극단적인 값.

1) 이상치_존재할 수 없는 값 처리
- table()을 이용해 빈도표를 만들고 이상치를 확인.
- ifelse()를 이용해 이상치를 NA 결측 값으로 변환.
- 결측치를 제외하고 분석.

2) 극단치 처리
- boxplot(데이터)$stats를 이용해 박스 도표를 그려 극단치 여부를 확인하고 극단치 경계, 사분위수를 이용해 극단치 기준 마련.
- ifelse()를 이용해 극단치를 NA, 결측 처리.
- 결측치를 제외하고 분석하면 됨.
 
